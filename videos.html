<html>
<head>
<script type="text/javascript" src='data/questions.json.js'> </script>
<script type="text/javascript" src='data/videos.json.js'> </script>
<script type="text/javascript" src='utils.js'> </script>
<script type="text/javascript">
function loadPageData()
{
	videos.sort(function (left,right) {
		return left.publishDate < right.publishDate ? 
			-1 : (left.publishDate > right.publishDate ? 1 : 0);});
	var tableData = "<tr><th></th><th>publish date</th><th>title</th><th>duration</th><th>questions count</th></tr>";
	var totalDuration = 0;
	var totalQuestions = 0;
	for (var i = 0; i < videos.length; ++i) {
		totalDuration += videos[i].duration;
		var currentQuestionsCount = videos[i].questions.length;
		totalQuestions += currentQuestionsCount;
		tableData += "<tr><th>" + i + "</th><td>" 
			+ videos[i].publishDate.substr(0, 10) + "</td><td>" 
			+ "<a href='video.html?id=" + videos[i].videoID + "'>" + videos[i].title + "</a>" + "</td><td>" 
			+ timeCodeToString(videos[i].duration) + "</td><td>" + currentQuestionsCount + "</td></tr>";
	}
	tableData += "<tr><th></th><th></th><th>TOTAL:</th><th>" + timeCodeToString(totalDuration) + "</th><th>" + totalQuestions + "</th></tr>";
	
	document.getElementById("videosTable").innerHTML = tableData;
}
</script>
</head>
<body onLoad="loadPageData()">
<table border="1" id="videosTable"></table>
</body>
</html>